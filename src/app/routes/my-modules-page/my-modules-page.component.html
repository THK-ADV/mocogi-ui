<div class="layout">
  <h1>Ã„nderungen</h1>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z1" matSort>
    <!-- Select -->
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef>
        <mat-checkbox
          (change)="$event ? toggleAllRows() : null"
          [checked]="selection.hasValue() && isAllSelected()"
          [indeterminate]="selection.hasValue() && !isAllSelected()"
          [aria-label]="checkboxLabel()">
        </mat-checkbox>
      </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox
          (click)="$event.stopPropagation()"
          (change)="$event ? selection.toggle(row) : null"
          [checked]="selection.isSelected(row)"
          [aria-label]="checkboxLabel(row)"
        >
        </mat-checkbox>
      </td>
    </ng-container>
    <!-- Name -->
    <ng-container matColumnDef="module">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Modul
      </th>
      <td mat-cell *matCellDef="let element">
        <a href="#">
          {{element.module}}
        </a>
      </td>
    </ng-container>
    <!-- Status -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Status
      </th>
      <td mat-cell *matCellDef="let element">
        <mat-chip [color]="element.status.color">{{element.status.label}}</mat-chip>
      </td>
    </ng-container>
    <!-- Actions -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>
        Actions
      </th>
      <td mat-cell *matCellDef="let element">
        <div class="inline">
          <button mat-stroked-button *ngIf="element.status.label==='Waiting for Approval'||element.status.label==='Will be published on 12.12.2023'">
            <mat-icon>pause</mat-icon>
            Back to Draft
          </button>
          <button mat-stroked-button *ngIf="element.status.label==='Valid draft'">
            <mat-icon>publish</mat-icon>
            Publish
          </button>
          <button mat-stroked-button *ngIf="element.status.label==='Valid draft'">
            <mat-icon>approval</mat-icon>
            Request review
          </button>
          <button mat-stroked-button color="red" *ngIf="element.status.label==='Valid draft' || element.status.label==='Invalid draft' || element.status.label==='Published'">
            <mat-icon>edit</mat-icon>
            Edit
          </button>
          <button mat-stroked-button color="red" *ngIf="element.status.label!=='Published'">
            <mat-icon>undo</mat-icon>
            Discard
          </button>
        </div>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
  </table>
</div>